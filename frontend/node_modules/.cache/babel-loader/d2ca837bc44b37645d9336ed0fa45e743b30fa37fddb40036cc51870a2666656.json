{"ast":null,"code":"import{useReccContext}from'../hooks/useReccContext';import formatDistanceToNow from'date-fns/formatDistanceToNow';import{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReccDetails=_ref=>{let{recc}=_ref;const[ARCcode,setARCcode]=useState('');const[location,setLocation]=useState('');const[description,setDescription]=useState('');const[template,setTemplate]=useState('');const[reportName,setReportName]=useState('');const[error,setError]=useState(null);const[emptyFields,setEmptyFields]=useState([]);const iconClassName=\"edit-icon material-symbols-outlined\";const{dispatch}=useReccContext();const handleClick=async()=>{const response=await fetch('/api/reccs/'+recc._id,{method:\"DELETE\"});// Delete the recommendation\nconst json=await response.json();if(response.ok){dispatch({type:'DELETE_RECC',payload:json});}};const handleEdit=async e=>{updatedRecc={ARCcode,location,description,template,reportName};const response=await fetch('/api/reccs/'+recc._id,{method:\"PATCH\",body:JSON.stringify(updatedRecc),headers:{'Content-Type':'application/json'}});const json=await response.json();if(response.ok){dispatch({type:'UPDATE_RECC',payload:json});}console.log(\"Edit button clicked\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"recc-details\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ARC Code: \"}),recc.ARCcode]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location: \"}),recc.location]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description: \"}),recc.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Recommendation Template: \"}),recc.template]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Report Name: \"}),recc.reportName]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Last Updated: \"}),formatDistanceToNow(new Date(recc.updatedAt),{addSuffix:true})]}),/*#__PURE__*/_jsx(\"span\",{onClick:handleClick,className:\"material-symbols-outlined\",children:\"Delete\"}),/*#__PURE__*/_jsx(\"span\",{onClick:handleEdit,className:iconClassName,children:\"Edit\"})]});};export default ReccDetails;","map":{"version":3,"names":["useReccContext","formatDistanceToNow","useState","jsx","_jsx","jsxs","_jsxs","ReccDetails","_ref","recc","ARCcode","setARCcode","location","setLocation","description","setDescription","template","setTemplate","reportName","setReportName","error","setError","emptyFields","setEmptyFields","iconClassName","dispatch","handleClick","response","fetch","_id","method","json","ok","type","payload","handleEdit","e","updatedRecc","body","JSON","stringify","headers","console","log","className","children","Date","updatedAt","addSuffix","onClick"],"sources":["/Users/maanitmalhan/Documents/IAC_Center/recc-manager/frontend/src/components/ReccDetails.js"],"sourcesContent":["import { useReccContext } from '../hooks/useReccContext';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport { useState } from 'react';\n\nconst ReccDetails = ({ recc }) => {\n\n    const [ARCcode, setARCcode] = useState('');\n    const [location, setLocation] = useState('');\n    const [description, setDescription] = useState('');\n    const [template, setTemplate] = useState('');\n    const [reportName, setReportName] = useState('');\n    const [error, setError] = useState(null);\n    const [emptyFields, setEmptyFields] = useState([]);\n\n\n    const iconClassName = \"edit-icon material-symbols-outlined\"\n\n    const { dispatch } = useReccContext()\n\n    const handleClick = async () => {\n        const response = await fetch('/api/reccs/' + recc._id, {method: \"DELETE\"}) // Delete the recommendation\n    \n        const json = await response.json()\n\n        if(response.ok){\n            dispatch({ type: 'DELETE_RECC', payload: json })\n        }\n    }\n\n    const handleEdit = async (e) => {\n        updatedRecc = {ARCcode, location, description, template, reportName}\n\n        const response = await fetch('/api/reccs/' + recc._id, {\n            method: \"PATCH\",\n            body: JSON.stringify(updatedRecc),\n            headers: {'Content-Type': 'application/json'}\n        });       \n        \n        const json = await response.json()\n\n       if(response.ok){\n           dispatch({ type: 'UPDATE_RECC', payload: json })\n       }\n       console.log(\"Edit button clicked\")\n\n        }\n    \n\n    return (\n        <div className=\"recc-details\">\n            <h4><strong>ARC Code: </strong>{recc.ARCcode}</h4>\n            <p><strong>Location: </strong>{recc.location}</p>\n            <p><strong>Description: </strong>{recc.description}</p>\n            <p><strong>Recommendation Template: </strong>{recc.template}</p>\n            <p><strong>Report Name: </strong>{recc.reportName}</p>\n            <p><strong>Last Updated: </strong>{formatDistanceToNow(new Date(recc.updatedAt), {addSuffix: true})}</p>\n            <span onClick={handleClick} className=\"material-symbols-outlined\">Delete</span>\n            <span onClick={handleEdit} className={ iconClassName }>Edit</span>\n        </div>\n    );\n    }\n\nexport default ReccDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}