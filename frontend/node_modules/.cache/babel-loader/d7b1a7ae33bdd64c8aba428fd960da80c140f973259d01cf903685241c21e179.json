{"ast":null,"code":"import{useState}from'react';import{useReccContext}from'../hooks/useReccContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReccForm=()=>{const{dispatch}=useReccContext();const[ARCcode,setARCcode]=useState('');const[location,setLocation]=useState('');const[description,setDescription]=useState('');const[template,setTemplate]=useState('');const[reportName,setReportName]=useState('');const[error,setError]=useState(null);const[emptyFields,setEmptyFields]=useState([]);const handleSubmit=async e=>{e.preventDefault();const recc={ARCcode,location,description,template,reportName};const response=await fetch('/api/reccs',{method:'POST',body:JSON.stringify(recc),headers:{'Content-Type':'application/json'}});const json=await response.json();if(!response.ok){setError(json.error);setEmptyFields(json.emptyFields);}if(response.ok){setError(null);setEmptyFields([]);console.log(\"New recommendation added!\");setARCcode('');setLocation('');setDescription('');setTemplate('');setReportName('');console.log('Saved data:',recc);dispatch({type:'CREATE_RECC',payload:json});}};return/*#__PURE__*/_jsxs(\"form\",{className:\"create\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create a New Recommendation Template\"}),/*#__PURE__*/_jsx(\"label\",{children:\"ARC Code:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",required:true,onChange:e=>setARCcode(e.target.value),value:ARCcode,className:emptyFields.includes('ARCcode')?'error':''}),/*#__PURE__*/_jsx(\"label\",{children:\"Location:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>setLocation(e.target.value),value:location,className:emptyFields.includes('location')?'error':''}),/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,onChange:e=>setDescription(e.target.value),value:description,className:emptyFields.includes('description')?'error':''}),/*#__PURE__*/_jsx(\"label\",{children:\"Recommendation Template:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,onChange:e=>setTemplate(e.target.value),value:template,className:emptyFields.includes('template')?'error':''}),/*#__PURE__*/_jsx(\"label\",{children:\"Report Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,onChange:e=>setReportName(e.target.value),value:reportName,className:emptyFields.includes('reportName')?'error':''}),/*#__PURE__*/_jsx(\"button\",{children:\"Submit\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error})]});};export default ReccForm;","map":{"version":3,"names":["useState","useReccContext","jsx","_jsx","jsxs","_jsxs","ReccForm","dispatch","ARCcode","setARCcode","location","setLocation","description","setDescription","template","setTemplate","reportName","setReportName","error","setError","emptyFields","setEmptyFields","handleSubmit","e","preventDefault","recc","response","fetch","method","body","JSON","stringify","headers","json","ok","console","log","type","payload","className","onSubmit","children","required","onChange","target","value","includes"],"sources":["/Users/maanitmalhan/Documents/IAC_Center/recc-manager/frontend/src/components/ReccForm.js"],"sourcesContent":["import { useState } from 'react';\nimport { useReccContext } from '../hooks/useReccContext';\n\nconst ReccForm = () => {\n    const { dispatch } = useReccContext();\n    const [ARCcode, setARCcode] = useState('');\n    const [location, setLocation] = useState('');\n    const [description, setDescription] = useState('');\n    const [template, setTemplate] = useState('');\n    const [reportName, setReportName] = useState('');\n    const [error, setError] = useState(null);\n    const [emptyFields, setEmptyFields] = useState([]);\n\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const recc = {ARCcode, location, description, template, reportName};\n\n        const response = await fetch('/api/reccs', {\n            method: 'POST',\n            body: JSON.stringify(recc),\n            headers: {'Content-Type': 'application/json'}\n        })\n        const json = await response.json();\n\n        if (!response.ok) {\n            setError(json.error);\n            setEmptyFields(json.emptyFields);\n        }\n        if (response.ok) {\n            setError(null);\n            setEmptyFields([]);\n            console.log(\"New recommendation added!\")\n            setARCcode('');\n            setLocation('');\n            setDescription('');\n            setTemplate('');\n            setReportName('');\n            console.log('Saved data:', recc); \n            dispatch({type: 'CREATE_RECC', payload: json});\n        }\n        }\n    \n\n    return (\n        <form className = \"create\" onSubmit={handleSubmit}>\n            <h3>Create a New Recommendation Template</h3>\n\n            <label>ARC Code:</label>\n            <input \n                type=\"number\"\n                required\n                onChange={(e) => setARCcode(e.target.value)}\n                value={ARCcode}\n                className={emptyFields.includes('ARCcode') ? 'error' : ''}\n            />\n\n            <label>Location:</label>\n            <input \n                type=\"text\"\n                onChange={(e) => setLocation(e.target.value)}\n                value={location}\n                className={emptyFields.includes('location') ? 'error' : ''}\n            />\n\n            <label>Description:</label>\n            <input\n                type=\"text\"\n                required\n                onChange={(e) => setDescription(e.target.value)}\n                value={description}\n                className={emptyFields.includes('description') ? 'error' : ''}\n            />\n\n            <label>Recommendation Template:</label>\n            <input\n                type=\"text\"\n                required\n                onChange={(e) => setTemplate(e.target.value)}\n                value={template}\n                className={emptyFields.includes('template') ? 'error' : ''}\n            />\n\n            <label>Report Name:</label>\n            <input\n                type=\"text\"\n                required\n                onChange={(e) => setReportName(e.target.value)}\n                value={reportName}\n                className={emptyFields.includes('reportName') ? 'error' : ''}\n            />\n\n            <button>Submit</button>\n            {error && <div className='error'>{error}</div>}\n            \n        </form>\n\n    )}\n\nexport default ReccForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}